/* ====================================
   css/global.css
   ==================================== */

/* ------------------------------------
   1. RESET & VARIABLES BASE
   ------------------------------------ */
   *,
   *::before,
   *::after {
     margin: 0;
     padding: 0;
     box-sizing: border-box;
   }
   
   :root {
     /* Palette */
     --color-bg: #f9f9f9;
     --color-surface: #ffffff;
     --color-text: #333333;
     --color-text-alt: #666666;
     --color-primary: #4A90E2;
     --color-secondary: #F5A623;
   
     /* Spacing */
     --spacing-xs: 8px;
     --spacing-sm: 16px;
     --spacing-md: 24px;
     --spacing-lg: 32px;
   
     /* Borders & shadows */
     --radius: 8px;
     --shadow: 0 4px 6px rgba(0,0,0,0.1);
   
     /* Typography */
     --font-heading: 'Montserrat', sans-serif;
     --font-body: 'Lato', sans-serif;
   
     /* Theme variables (light default) */
     --bg: var(--color-bg);
     --surface: var(--color-surface);
     --text: var(--color-text);
     --text-alt: var(--color-text-alt);
     --primary: var(--color-primary);
     --secondary: var(--color-secondary);
   }
   
   /* ------------------------------------
      2. AUTO-DARK MODE (if no explicit choice)
      ------------------------------------ */
   @media (prefers-color-scheme: dark) {
     :root:not([data-theme]) {
       --bg: #2b2b2b;
       --surface: #383838;
       --text: #e0e0e0;
       --text-alt: #b0b0b0;
       /* primary/secondary unchanged or adjust here */
     }
   }
   
   /* ------------------------------------
      3. EXPLICIT DARK THEME
      ------------------------------------ */
   [data-theme="dark"] {
     --bg: #2b2b2b;
     --surface: #383838;
     --text: #e0e0e0;
     --text-alt: #b0b0b0;
     /* primary/secondary unchanged or adjust here */
   }
   
   /* ------------------------------------
      4. SMOOTH SCROLL & TRANSITIONS
      ------------------------------------ */
   html {
     scroll-behavior: smooth;
     transition:
       --bg 0.3s ease,
       --surface 0.3s ease,
       --text 0.3s ease,
       --text-alt 0.3s ease,
       --primary 0.3s ease,
       --secondary 0.3s ease;
   }
   
   body,
   .card,
   #language-modal,
   .language-box {
     transition:
       background-color 0.3s ease,
       color 0.3s ease,
       border-color 0.3s ease;
   }
   
   /* ------------------------------------
      5. BASE STYLES
      ------------------------------------ */
   body {
     font-family: var(--font-body);
     background-color: var(--bg);
     color: var(--text);
     line-height: 1.6;
   }
   
   .container {
     max-width: 1200px;
     margin: 0 auto;
     padding: var(--spacing-md);
   }
   
   a {
     color: var(--primary);
     text-decoration: none;
   }
   
   /* ------------------------------------
      6. BACKGROUND CANVAS
      ------------------------------------ */
   #background {
     position: fixed;
     inset: 0;
     overflow: hidden;
     z-index: -2;
   }
   #background canvas {
     position: absolute;
     top: 0;
     left: 0;
     width: 100%;
     height: 100%;
   }
   
   /* ------------------------------------
      7. HEADER & THEME TOGGLE
      ------------------------------------ */
   header#header {
     position: sticky;
     top: 0;
     background: rgba( var(--bg-rgb, 249,249,249), 0.8 );
     backdrop-filter: blur(8px);
     padding: var(--spacing-sm) 0;
     display: flex;
     justify-content: center;
     align-items: center;
     z-index: 100;
   }
   
   .site-title {
     font-family: var(--font-heading);
     font-size: 2rem;
     color: var(--text);
   }
   
   #theme-toggle {
     position: absolute;
     top: var(--spacing-sm);
     right: var(--spacing-sm);
     background: none;
     border: none;
     font-size: 1.25rem;
     cursor: pointer;
     color: var(--text);
   }
   #theme-toggle:focus {
     outline: 2px solid var(--primary);
   }
   
   /* ------------------------------------
      8. LANGUAGE SELECTOR MODAL
      ------------------------------------ */
   .hidden {
     display: none !important;
   }
   
   #language-modal {
     position: fixed;
     inset: 0;
     background: rgba(0,0,0,0.5);
     display: flex;
     align-items: center;
     justify-content: center;
     z-index: 200;
   }
   
   .language-box {
     background: var(--surface);
     color: var(--text);
     padding: var(--spacing-lg);
     border-radius: var(--radius);
     box-shadow: var(--shadow);
     text-align: center;
     width: 90%;
     max-width: 360px;
   }
   
   .language-box label {
     font-family: var(--font-heading);
     margin-bottom: var(--spacing-xs);
     display: block;
     color: var(--text);
   }
   
   .language-box select {
     width: 100%;
     padding: var(--spacing-sm);
     border: 1px solid var(--text-alt);
     border-radius: var(--radius);
     background: var(--surface);
     color: var(--text);
     font-family: var(--font-body);
   }
   
   .language-box button {
     margin-top: var(--spacing-md);
     padding: var(--spacing-sm) var(--spacing-lg);
     background: var(--primary);
     color: #fff;
     border: none;
     border-radius: var(--radius);
     font-family: var(--font-heading);
     cursor: pointer;
   }
   
   /* ------------------------------------
      9. PRODUCT GRID (landing)
      ------------------------------------ */
   #products {
     display: grid;
     grid-template-columns: repeat(auto-fit, minmax(240px,1fr));
     gap: var(--spacing-lg);
     padding: var(--spacing-md) 0;
   }
   @media (max-width: 768px) {
     #products {
       grid-template-columns: 1fr;
     }
   }
   /* Skip link oculto excepto al hacer focus */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--primary);
  color: #fff;
  padding: 8px 16px;
  z-index: 1000;
  transition: top 0.3s ease;
  text-decoration: none;
  font-family: var(--font-heading);
}
.skip-link:focus {
  top: 8px;
}
/* Estilos de foco para accesibilidad */
:focus {
  outline: 2px dashed var(--secondary);
  outline-offset: 4px;
}

/* Asegurar que los elementos con role="button" tambi√©n muestren foco */
.card[role="button"]:focus {
  box-shadow: 0 0 0 3px var(--secondary);
}
.loader {
  border: 4px solid rgba(0,0,0,0.1);
  border-left-color: var(--primary);
  border-radius: 50%;
  width: 48px;
  height: 48px;
  animation: spin 1s linear infinite;
  margin: var(--spacing-md) auto;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}
.loader-text {
  text-align: center;
  margin-top: var(--spacing-md);
  color: var(--text);
}
